<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Justin Leahy - Map</title>
  <style>
    .mapboxgl-popup-content {
      color: black;
    }
  </style>
</head>
<body>

  <header>
    <nav>
      <div class="header-left">
        <div class="logo">
          <a href="index.html">Justin Leahy</a>
        </div>
      </div>
      <div class="header-right">
        <ul class="menu">
          <li><a href="index.html">Home</a></li>
          <li>
            <a>Portfolio</a>
            <ul class="dropdown">
              <li><a href="landscape.html">Landscape</a></li>
              <li><a href="portrait.html">Portrait</a></li>
              <li><a href="wildlife.html">Wildlife</a></li>
            </ul>
          </li>
          <li><a href="about.html">About</a></li>
          <li><a href="map.html">Map</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main id="map-page">
    <!-- Map page content -->
    <h1>Favorite Travels</h1>
    <!-- Rest of the map page content -->
    <div id="map"></div>
  </main>

 <footer>
    <p>Â© Justin Leahy 2023 | JPL</p>
  </footer>

  <script src="https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.css" rel="stylesheet" />

  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoianVzdGxlYWh5IiwiYSI6ImNsazJ2ZzFncTBqZmEzZ21zeWxiMjkwZDkifQ.g0O07Y_2aTIewM4s9k0CRQ';

    function initMap() {
      // Define an array of pinpoints with their coordinates and captions
      var pinpoints = [
        {
          position: { lat: 33.8734, lng: -115.9010 },
          caption: 'Joshua Tree National Park',
          link: 'joshuatree.html' // Replace with the link to the page with photos taken at this location
        },
        {
          position: { lat: 51.1784, lng: -115.5708 },
          caption: 'Canadian Rockies',
          link: 'canadianrockies.html' // Replace with the link to the page with photos taken at this location
        },
        {
          position: { lat: 35.35486, lng: -82.990414 },
          caption: 'Blue Ridge Mountains',
          link: 'blueridge.html' // Replace with the link to the page with photos taken at this location
        },
        {
          position: { lat: 40.424939, lng: -105.756965 },
          caption: 'Rocky Mountain National Park',
          link: 'rockymountain.html' // Replace with the link to the page with photos taken at this location
        },
        {
          position: { lat: 38.189466, lng: -109.887094 },
          caption: 'Canyonlands National Park',
          link: 'canyonlands.html' // Replace with the link to the page with photos taken at this location
        },
        {
          position: { lat: 19.294957, lng: -155.098257 },
          caption: 'Hawaii Volcanoes National Park',
          link: 'hawaiivolcanoes.html' // Replace with the link to the page with photos taken at this location
        }
      ];

      // Calculate the geographical center of the pinpoints
      var bounds = new mapboxgl.LngLatBounds();
      for (var i = 0; i < pinpoints.length; i++) {
        bounds.extend([pinpoints[i].position.lng, pinpoints[i].position.lat]);
      }
      var center = bounds.getCenter();

      // Create a map centered at the geographical center of the pinpoints
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: center,
        zoom: 10 // Adjust the zoom level as per your preference
      });

      // Add navigation controls to the map
      map.addControl(new mapboxgl.NavigationControl());

      // Iterate through the pinpoints array and add markers to the map
      for (var i = 0; i < pinpoints.length; i++) {
        var pinpoint = pinpoints[i];

        // Create a marker with the specified position
        var marker = new mapboxgl.Marker()
          .setLngLat([pinpoint.position.lng, pinpoint.position.lat])
          .setPopup(new mapboxgl.Popup().setHTML('<div><h3>' + pinpoint.caption + '</h3><p>Description here</p></div>'))
          .addTo(map);

        // Add an event listener to redirect to the specified page when the marker is clicked
        marker.getElement().addEventListener('click', function (e) {
          window.location.href = this.options.link;
        });

        // Add an event listener to show the caption when hovering over the marker
        marker.getElement().addEventListener('mouseenter', function (e) {
          this.togglePopup();
        });
        marker.getElement().addEventListener('mouseleave', function (e) {
          this.togglePopup();
        });

        // Store the link in the marker's options for access inside the event listener
        marker.options = { link: pinpoint.link };
      }

      // Fit the map to the bounds of all the pinpoints
      map.fitBounds(bounds);
    }

    initMap();
  </script>
</body>
</html>
